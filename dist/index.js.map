{"version":3,"file":"index.js","sources":["../build/index.js"],"sourcesContent":["function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nconst props = {\n  fontSize: { prefix: \"text\", prop: \"font-size\" }\n};\n\nconst SIDES = [\"top\", \"right\", \"bottom\", \"left\"];\nconst CORNERS = [\"top-left\", \"top-right\", \"bottom-right\", \"bottom-left\"];\nconst AXES = [\"x\", \"y\"];\n\nexport default function (_ref) {\n  let { suffix = \"-fluid\" } = _ref,\n      properties = _objectWithoutProperties(_ref, [\"suffix\"]);\n\n  return function ({ e, addUtilities, config }) {\n    const classes = [];\n\n    Object.keys(properties).forEach(property => {\n      const values = properties[property] === true ? config(property) : properties[property];\n\n      Object.keys(values).forEach(id => {\n        const prop = props[property].prop;\n\n        if (typeof values[id] === \"string\" || typeof values[id] === \"number\") {\n          const className = `${props[property].prefix}-${id}${suffix}`;\n          const selector = `.${e(className)}`;\n\n          classes.push({\n            [selector]: {\n              [prop]: property === \"negativeMargin\" ? `-${values[id]}` : values[id]\n            }\n          });\n          return;\n        }\n\n        const { min, max, minvw, maxvw } = values[id];\n\n        const variants = [\"\"];\n        if (props[property].axes) {\n          variants.push(...AXES);\n        }\n        if (props[property].sides) {\n          variants.push(...SIDES);\n        }\n        if (props[property].corners) {\n          variants.push(...CORNERS);\n        }\n\n        variants.forEach(v => {\n          const className = `${props[property].prefix}${shorthand(v, props[property].hyphen)}-${id}${suffix}`;\n          const selector = `.${e(className)}`;\n          const p = propNames(prop, v, props[property].corners);\n\n          classes.push({\n            [selector]: p.reduce((acc, curr) => {\n              acc[curr] = property === \"negativeMargin\" ? `-${min}` : min;\n              return acc;\n            }, {}),\n            [`@media (min-width: ${minvw})`]: {\n              [selector]: p.reduce((acc, curr) => {\n                acc[curr] = makeFluid(values[id], property === \"negativeMargin\");\n                return acc;\n              }, {})\n            },\n            [`@media (min-width: ${maxvw})`]: {\n              [selector]: p.reduce((acc, curr) => {\n                acc[curr] = property === \"negativeMargin\" ? `-${max}` : max;\n                return acc;\n              }, {})\n            }\n          });\n        });\n      });\n    });\n\n    addUtilities(classes);\n  };\n}\n\nfunction makeFluid({ minvw, maxvw, min, max }, negate = false) {\n  const mn = negate ? `-${min}` : min;\n  const mx = negate ? `-${max}` : max;\n\n  return `calc(${mn} + ${parseFloat(mx) - parseFloat(mn)} * (100vw - ${minvw}) / ${parseFloat(maxvw) - parseFloat(minvw)})`;\n}\n\nfunction shorthand(longhand, hyphen = true) {\n  if (longhand === \"\") return \"\";\n  return (hyphen ? \"-\" : \"\") + longhand.match(/\\b[a-z]/g).join(\"\");\n}\n\nfunction propNames(prop, variant, corners) {\n  if (!variant) return [prop];\n\n  let variants = [variant];\n\n  if (variant === \"x\") {\n    variants = [\"left\", \"right\"];\n  } else if (variant === \"y\") {\n    variants = [\"top\", \"bottom\"];\n  } else if (variant === \"top\" && corners) {\n    variants = [\"top-left\", \"top-right\"];\n  } else if (variant === \"right\" && corners) {\n    variants = [\"top-right\", \"bottom-right\"];\n  } else if (variant === \"bottom\" && corners) {\n    variants = [\"bottom-left\", \"bottom-right\"];\n  } else if (variant === \"left\" && corners) {\n    variants = [\"top-left\", \"bottom-left\"];\n  }\n\n  const parts = prop.split(\"-\");\n  if (parts.length === 1) {\n    return variants.map(v => `${parts[0]}-${v}`);\n  }\n\n  return variants.map(v => `${parts[0]}-${v}-${parts.slice(1).join(\"-\")}`);\n}"],"names":["const","props","fontSize","prefix","prop","SIDES","CORNERS","AXES","_ref","obj","keys","target","i","indexOf","Object","prototype","hasOwnProperty","call","ref","e","addUtilities","config","classes","properties","forEach","property","values","id","min","max","minvw","maxvw","variants","axes","push","sides","corners","v","longhand","hyphen","className","match","join","suffix","selector","p","variant","let","parts","split","map","length","slice","propNames","reduce","acc","curr","negate","mn","parseFloat","makeFluid"],"mappings":"AAEAA,IAAMC,GACJC,UAAYC,OAAQ,OAAQC,KAAM,cAG9BC,GAAS,MAAO,QAAS,SAAU,QACnCC,GAAW,WAAY,YAAa,eAAgB,eACpDC,GAAQ,IAAK,oBAEnB,SAAyBC,GACvB,8BAAe,gBAXjB,SAAkCC,EAAKC,GAAQ,IAAIC,KAAa,IAAK,IAAIC,KAAKH,EAAWC,EAAKG,QAAQD,IAAM,GAAkBE,OAAOC,UAAUC,eAAeC,KAAKR,EAAKG,KAAcD,EAAOC,GAAKH,EAAIG,IAAM,OAAOD,iBAcjN,OAAO,SAAUO,iBAAEC,MAAGC,iBAAcC,WAC5BC,KAENR,OAAOJ,KAAKa,GAAYC,iBAAQC,GAC9BzB,IAAM0B,GAAkC,IAAzBH,EAAWE,GAAqBJ,EAAOI,GAAYF,EAAWE,GAE7EX,OAAOJ,KAAKgB,GAAQF,iBAAQG,GAC1B3B,IAAMI,EAAOH,EAAMwB,GAAUrB,KAE7B,GAA0B,iBAAfsB,EAAOC,IAA0C,iBAAfD,EAAOC,GAApD,CAYA,MAAmCD,EAAOC,GAAlCC,QAAKC,QAAKC,UAAOC,UAEnBC,GAAY,IACd/B,EAAMwB,GAAUQ,MAClBD,EAASE,WAAKF,EAAGzB,GAEfN,EAAMwB,GAAUU,OAClBH,EAASE,WAAKF,EAAG3B,GAEfJ,EAAMwB,GAAUW,SAClBJ,EAASE,WAAKF,EAAG1B,GAGnB0B,EAASR,iBAAQa,GACfrC,IAqCSsC,EAAUC,EArCbC,EAAevC,EAAMwB,WAqClBa,EArC+CD,YAqCrCE,EArCwCtC,EAAMwB,GAAUc,aAqC/C,GACnB,KAAbD,EAAwB,IACpBC,EAAS,IAAM,IAAMD,EAASG,MAAM,YAAYC,KAAK,SAvCiCf,EAAKgB,EACrFC,EAAW,IAAIzB,EAAEqB,GACjBK,EAwChB,SAAmBzC,EAAM0C,EAASV,GAChC,IAAKU,EAAS,OAAQ1C,GAEtB2C,IAAIf,GAAYc,GAEA,MAAZA,EACFd,GAAY,OAAQ,SACC,MAAZc,EACTd,GAAY,MAAO,UACE,QAAZc,GAAqBV,EAC9BJ,GAAY,WAAY,aACH,UAAZc,GAAuBV,EAChCJ,GAAY,YAAa,gBACJ,WAAZc,GAAwBV,EACjCJ,GAAY,cAAe,gBACN,SAAZc,GAAsBV,IAC/BJ,GAAY,WAAY,gBAG1BhC,IAAMgD,EAAQ5C,EAAK6C,MAAM,KACzB,OACSjB,EAASkB,IADG,IAAjBF,EAAMG,gBACYd,UAAQW,EAAM,OAAMX,YAGtBA,UAAQW,EAAM,OAAMX,MAAKW,EAAMI,MAAM,GAAGV,KAAK,OAhE/CW,CAAUjD,EAAMiC,EAAGpC,EAAMwB,GAAUW,SAE7Cd,EAAQY,aACLU,GAAWC,EAAES,gBAAQC,EAAKC,GAEzB,OADAD,EAAIC,GAAqB,mBAAb/B,MAAoCG,EAAQA,EACjD2B,+BAEczB,eACpBc,GAAWC,EAAES,gBAAQC,EAAKC,GAEzB,OADAD,EAAIC,GAmBpB,SAAmBtC,EAA4BuC,OAA1B3B,UAAOC,UAAOH,QAAKC,wBAAgB,GACtD7B,IAAM0D,EAAKD,MAAa7B,EAAQA,EAGhC,cAAe8B,SAAQC,WAFZF,MAAa5B,EAAQA,GAEQ8B,WAAWD,mBAAkB5B,UAAY6B,WAAW5B,GAAS4B,WAAW7B,QAvBtF8B,CAAUlC,EAAOC,GAAkB,mBAAbF,GAC3B8B,kCAGYxB,eACpBa,GAAWC,EAAES,gBAAQC,EAAKC,GAEzB,OADAD,EAAIC,GAAqB,mBAAb/B,MAAoCI,EAAQA,EACjD0B,oBA5Cf,CACEvD,IACM4C,EAAW,IAAIzB,EADAlB,EAAMwB,cAAoBE,EAAKgB,GAGpDrB,EAAQY,aACLU,WACExC,GAAoB,mBAAbqB,MAAoCC,EAAOC,GAAQD,EAAOC,eA8C5EP,EAAaE"}